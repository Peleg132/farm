<!-- 
    Hello!
    This game was made for a homework in my english class, but I might actually make it some real game.
    Thanks for visiting here! I love people who visits the source code for pages they visit. 
    This is a pure HTML, CSS & JavaScript game, so you basiclly can do whatever you want with the here with some understanding of JS. I can't really do something with it, you know?
    Have fun!
    TDL:
        - Fertilizer(?)
        - fertilized plots(?)
        - upgrades to plots:
            ~ Two-plant plots(?)
            ~ 
        - Add net worth & sell price of crop to shop
        - When selling, add button of "Sell all"
    BTF (Bugs To Fix):
        - Words move in water game - make them stay where they are
-->
<!DOCTYPE html>
<html>
    <head>
        <title>Farming game</title>
        <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
        
        <style>
            body {
                margin:0px;
                background-image:url("https://peleghtml.000webhostapp.com/images/fiels.jpg");
            }
            
            .normalview {
                border:1px solid rgba(226,226,226,0);
                padding:0px;
                margin:0px;
                max-height:33px !important;
                width:33px;
                height:33px !important;
                display:inline-block ;
                overflow:hidden;    
            }
            
            button {
                background-color:rgb(10,140,10);
                color:white;
                border:0px;
                border-bottom:2px solid black;
                border-right:2px solid black;
                margin:1px;
            }
            
            .gridview {
                border:1px solid rgba(40,100,250,0.8);
                padding:0px;
                margin:0px;
                max-height:33px !important;
                width:33px;
                height:33px !important;
                display:inline-block ;
                overflow:hidden;
            }
            
            input {
                width: 100%;
                background-color:rgba(0,0,0,0);
                text-align:center;
                outline:none;
                font-weight:bold;
                border:0px;
            }
            
            header {
                text-align:center;
                background-color: rgb(30,180,50);
                padding:3px;
            }
            
            #plot, #waterBtn {
                width: 100%;  
                height: 70px;
                text-align:center ;
                border-radius:30%;
                border:none;
                background-color:rgb(220,20,80);
                color: white;
                font-weight:bold;
                z-index:200;
                top: -6px;
                position:relative;
                outline:none;
            }
            
            body > #shadow, #shadowWater {
                width: 70px;  
                height: 70px;
                border-radius:30%;
                border:none;
                background-color:rgba(20,20,20,0.3);
                z-index:199;
                bottom: 50px;
                right:50px;
                position:fixed;
            }

            #shadowWater {
                left: 50px;
            }
            
            #plot:active, #waterBtn:active {
                top:0px;
            }
            
            .field {
                top:0px !important;
                width: 33px;
                height:33px;
                border-radius:10%;
                background-color:#770000;
                z-index:  10;
                display:inline-block ;
                position:relative;
                border:1px solid black;
                font-size:8px;
                padding:0px;
                margin:0px;
            }
            
            #gamearea {
               width:100%; 
               height:500px;
               z-index:-10;
               position:fixed;
               display:block;
            }
            
            .inventory {
                display:none;
                top: 50px;
                left:30px;
                width:80%;
                height: 400px;
                background-color:rgba(30,200,10,0.9);
                position:fixed;
                text-align:center;
                border-radius:4%;
                border:2px solid green;
                overflow:scroll;
            }
            
            .shop {
                display:none;
                top: 50px;
                left:30px;
                width:80%;
                height: 400px;
                background-color:rgba(30,200,10,0.9);
                position:fixed;
                text-align:left;
                border-radius:4%;
                border:2px solid green;
                overflow:scroll;
            }
            
            .doneBtn {
                display:block;
                text-align:center;
                left:-200px;
                bottom: 30px;
                width:128px;
                height:128px;
                background-image:url("https://peleghtml.000webhostapp.com/images/checkmark.png");
                background-repeat:no-repeat;
                position:fixed;
                color:white;
                z-index:50;
                border:0px;
                outline:none;
                background-color:rgba(225,225,225,0);
            }
            
            .doneBtn:active {
                width:120px;
                height:123px;
                outline:none;
            }
            
            .fields {
                top:65px;
            }
            
            h1 {
                text-align:center;
            }
            
            #menu {
                z-index:68;
                top:-20px;
                left:10px;
                position:relative;
                float:left;
                width:40px;
                height:40px;
                border:0px;
                font-size:20px;
                text-align:center;
                border-radius:50%;
                outline:none;
            }
            
            #menu:active {
                top:-17px;
                background-color:rgb(10,100,10);
                outline:none;
            }
            
            ul {
                z-index:200;
                position:fixed;
                top: -10px;
                left:-400px;
                background-color:rgba(10,110,10,0.7);
                width:100%;
                height:100%;
                display:none;
            }
            
            li {
                list-style-type:none;
                position:relative;
                background-color:rgba(10,100,10,0.7);
                width:100%;
                margin:3px;
                font-size:20px;
                font-weight:bold;
                color:white;
                height:25px;
            }
            
            li:hover {
                background-color:rgba(10,100,10,1); 
            }
            
            .close {
                position: sticky;
                top: 2%;
                left: 97%;
                background-color:red;
            }
            
            article {
                display:none;
                top: 50px;
                left:30px;
                width:80%;
                height: 400px;
                background-color:rgba(30,200,10,0.9);
                position:fixed;
                text-align:center;
                border-radius:4%;
                border:2px solid green;
                overflow:scroll;
                z-index:300;
            }
            
            #cropmenu > h4 , #cropmenu > p {
                display:inline;
            }
            
            em {
                float:left;
                font-weight:bold;
            }
            
            .tab {
                border: 0px;
                height:20px;
                background-color:rgb(100,100,100);
                font-size:15px;
                outline:none;
            }
            
            .tab:hover {
                background-color:rgb(80,80,80);
                outline:none;
            }

            .game-span {
                margin: 20px;
                display: inline-block;
                background-color: darkgreen;
                font-size: 30px;
                border: 2px solid green;
                border-radius: 15px;
            }

            .errorMsg {
                position: absolute;
                bottom: -100px;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: lightgray;
                color: red;
                height: 30px;
                width: 400px;
                text-align: center;
                line-height: 30px;
                border-radius: 25px;
            }

            .waterPlantSpan {
                color:white;
                margin-left: 40%;
                position: absolute;
                top: 150px;
            }
            
            .waterPlantButton {
                background-color:gold;
                border-bottom:2px solid green;
                border-right:2px solid green;
            }
            
            .cookieMsg {
                text-align: center;
                position: absolute;
                bottom: 0;
                width: 100%;
                height:70px;
                line-height: 70px;
                background-color: darkgrey;
                color: white;
                z-index: 1000;
            }
            
            .cookieMsgBtn {
                background-color: red;
                border-radius: 25px;
                height: 70%;
                width: 100px;
            }
        </style>
        
        <script>
            var water;
            var wallet;
            var plotPrice;
            var fields;
            var farmName = "My Farm";
            var needWater = [];
            var animalNo = 0;
            var cropsNo = -1;
            var decNum = 0;
            var decorations = [];
            var animals = {};
            var crops = {};
            var selectionMode = "none";
            var dict = {};
            var inventory = {};
            var inventoryOpened = false;
            var shopOpened = false;
            var toDivideByTime = 50;
            var allowCookies = false;
            
            function animal(n,fig,size,price,products) {
                animalNo += 1;
                this.n = n;
                this.fig = fig;
                this.size = size;
                this.price = size;
                this.products = products;
                getAnimalCount = function() {
                    return animalNo;
                };
                return this;
            }
            
            function crop(id,n,fig,growTime,price,sellPrice,cropNum) {
                cropsNo += 1;
                dict[fig] = cropsNo;
                dict[n] = cropsNo;
                inventory[cropsNo] = [fig,n,0,cropsNo]; 
                this.id = id;
                this.n = n;
                this.fig = fig;
                this.price = price;
                this.sellPrice = sellPrice;
                this.growTime = growTime;
                this.cropNum = cropNum;
                return this;
            }
            
            function decoration(fig,n,price,size) {
                this.id = decNum++;
                this.fig = fig;
                this.n = n;
                this.price = price;
                this.size = size;   
                dict[fig] = this.id;
            }
            
            animals[0] = new animal(0,"cow","🐄",100,1000,["milk"]);
            animals[1] = new animal(1,"pig","🐖",30,200,["mud"]);

            crops[0] = new crop(0,"Tomato","🍅",7000,7,10,10);
            crops[1] = new crop(1,"Corn","🌽",10000,10,15,10);
            crops[2] = new crop(2,"Chillies","🌶",14000,17,25,10)
            crops[3] = new crop(3,"Mushroom","🍄",19000,20,30,10);
            crops[4] = new crop(4,"Eggplant","🍆",23000,50,65,10);
            crops[5] = new crop(5,"Grapes","🍇",28000,100,130,10);
            crops[6] = new crop(6,"Strawberry","🍓",34000,160,200,10);
            crops[7] = new crop(7,"Sweet potato","🍠",40000,170,212,10);
            crops[8] = new crop(8,"Clover","☘️",45000,80,50,30);
            crops[9] = new crop(9,"Tulip","🌷",51000,350,437,10);
            crops[10] = new crop(10,"Rose","🌹",58000,500,700,10);
            crops[11] = new crop(11,"Rice","🌾",64000,650,812,10);
            crops[12] = new crop(12,"Melon","🍈",70000,720,900,10);
            crops[13] = new crop(13,"Watermelon","🍉",78000,800,1000,10);
            crops[14] = new crop(14,"Tangerine","🍊",58000,850,1125,10);
            crops[15] = new crop(15,"Lemon","🍋",64000,900,1187,10);
            crops[16] = new crop(16,"Banana","🍌",70000,950,850,10);
            crops[17] = new crop(17,"Pineapple","🍍",76000,970,1212,10);
            crops[18] = new crop(18,"Mango","🥭",80000,1000,1250,10)
            crops[19] = new crop(19,"Red Apple","🍎",85000,1100,1375,10);
            crops[20] = new crop(20,"Green Apple","🍏",90000,1200,1500,10);
            crops[21] = new crop(21,"Pear","🍐",95000,1300,1625,10);
            crops[22] = new crop(22,"Peach","🍑",100000,1400,1750,10);
            crops[23] = new crop(23,"Kiwi","🥝",105000,1500,1875,10);
            crops[24] = new crop(24,"Coconut","🥥",110000,1600,2000,30);
            crops[25] = new crop(25,"Avocado","🥑",115000,1700,2125,10);
            crops[26] = new crop(26,"Potato","🥔",120000,1800,2250,10);
            crops[27] = new crop(27,"Carrot","🥕",125000,2000,2500,10);
            crops[28] = new crop(28,"Cucumber","🥒",200000,10000,25000,10);
            crops[29] = new crop(29,"Peanuts","🥜",250000,200000,500000,10);
            crops[30] = new crop(30,"Four Leaf Clover","🍀",400000,10000000,20000000,10);
             
            decorations[0]=  new decoration("💩","POO",30,15);
            decorations[1] = new decoration("🚩","Flag",80,25);
            decorations[2] = new decoration("📪","Post box",150,25);
            decorations[3] = new decoration("🏧","ATM",300,30);
            decorations[4] = new decoration("⛳","Golf pitch",350,30);
            decorations[5] = new decoration("🎁","Gift",500,20);
            decorations[6] = new decoration("⛄","Snow man",550,30);
            decorations[7] = new decoration("⛽","Water pump", 550,40);

    //  attempts to diable console & inspect changes {
            $(document).keydown(function (event) {
                if (event.keyCode == 123) { // Prevent F12
                    return false;
                } else if (event.ctrlKey && event.shiftKey && event.keyCode == 73) { // Prevent Ctrl+Shift+I        
                    return false;
                }
            });
            $(document).on("contextmenu", function (e) {        
                e.preventDefault();
            });

    //  } 

            $(document).ready(function() {
                for(rows = 0; rows < 17; rows++) {
                    $("#gamearea").append("<tr></tr>");
                }
                
                for(cols = 0; cols < window.innerWidth / 40 + 1; cols++) {
                    $("tr").append("<td></td>")
                }
                
                if(document.cookie.indexOf('water') != -1) {
                    water = parseInt(getCookie("water"));
                    wallet = parseInt(getCookie("wallet"));
                    plotPrice = parseInt(getCookie("plotPrice"));
                    fields = parseInt(getCookie("fields"));
                    sixthLine = document.getElementById("gamearea").children[5];
                    for(let i = 5; i < fields + 5; i++) {
                        sixthLine.children[i].innerHTML = "<button onclick='javascript:void(farm(event, this))'class='field' id='field" + i + "'></button>";
                    }
                    $("#water").html("Water: 🌊" + water);
                    $("#wallet").html("Wallet: 💵" + wallet + ",");
                    $("#plotPrice").html("Plot price: " + plotPrice);
                    $("td").addClass("gridview");
                    setTimeout(function () {$("td").removeClass("gridview").addClass("normalview"); }, 100)
                } else {
                    water = 0;
                    wallet = 100;
                    plotPrice = 10;
                    fields = 0;
                }
                openMenu("#helpmenu");
                
                for(ci = 0; ci < cropsNo + 1; ci++) {
                    $("#cropmenu").append(
                        "<h4>" + crops[ci].fig + "" + crops[ci].n + "</h4><br><Price: 💵" + crops[ci].price + "<br>Sell price: 💵 " + crops[ci].sellPrice + "<br>Grow time: ⏳ " + crops[ci].growTime/1000 + "s<br>Crop number: " +  crops[ci].cropNum + "<br><hr>"
                    );
                }
                
                $("td").click(function() {
                    if(selectionMode == "plotting" && (plotPrice + 7) < wallet && !this.hasChildNodes()) {
                       fields += 1;
                       wallet -= plotPrice;
                       plotPrice += parseInt(wallet / 7);
                       $("#plotPrice").html("Plot price: " + plotPrice);
                       $("#wallet").html("Wallet: 💵" + wallet + ",");
                       $(this).html("<button onclick='javascript:void(farm(event, this))'class='field' id='field" + fields + "'></button>");
                    } else if(selectionMode.substring(0,6) == "decors") {
                        if(wallet - decorations[dict[selectionMode.substring(6)]].price >= 7) {
                            if(this.hasChildNodes() == false) {
                                if (selectionMode.substring(6) == "⛽" && water >= 20) {
                                    if(wallet * 0.75 <= 550) {
                                        wallet -= decorations[dict[selectionMode.substring(6)]].price;
                                    } else {
                                        wallet -= wallet * 0.75;
                                    }
                                    toDivideByTime += 5;
                                    water -= 20;
                                    $("#water").html("Water: 🌊" + water);
                                    $("#wallet").html("Wallet: 💵" + wallet + ",");
                                    $(this).html("<span style='font-size:" + decorations[dict[selectionMode.substring(6)]].size + "px'>" + selectionMode.substring(6) + "</span>")
                                } else if(selectionMode.substring(6) == "⛽" && water < 20) {
                                    showErrorMsg("You don't have enough water to buy " + decorations[dict[selectionMode.substring(6)]].n + "!", createErrorMsg());
                                } else {
                                    wallet -= decorations[dict[selectionMode.substring(6)]].price;
                                    $("#wallet").html("Wallet: 💵" + wallet + ",");
                                    $(this).html("<span style='font-size:" + decorations[dict[selectionMode.substring(6)]].size + "px'>" + selectionMode.substring(6) + "</span>");
                                }
                            } else {
                                showErrorMsg("You can't place " + decorations[dict[selectionMode.substring(6)]].n + " here!", createErrorMsg());
                            }
                        } else {
                            showErrorMsg("You don't have enough cash to buy " + decorations[dict[selectionMode.substring(6)]].n + "!", createErrorMsg());
                        }
                    } else if(this.firstChild != null && selectionMode == "water" && water > 0 && needWater.indexOf(this.firstChild.id) != -1) {
                        this.firstChild.style.backgroundColor = "#770000";
                        water -= 1;
                        needWater.splice(needWater.indexOf(this.firstChild.id), 1);
                        $("#water").html("Water: 🌊" + water);
                    } else if(this.firstChild != null && selectionMode == "water" && water == 0 && needWater.indexOf(this.firstChild.id) != -1) {
                        showErrorMsg("You don't have enough water to water this plot!", createErrorMsg());
                    } else if(selectionMode == "plotting" && !(plotPrice + 7) < wallet) {
                        showErrorMsg("You don't have enough cash to buy another plot!", createErrorMsg());
                    }
                });
              
                $("#plot").click(function() {
                    selectionMode = "plotting";
                    $("td").addClass("gridview");
                    $("article>table").addClass("cLT");
                    $(".doneBtn").animate({
                        left:"20px",bottom:"30px"
                    }); 
                    $("#shadowWater").animate({
                        left:"-100px",bottom:"50px"
                    }); 
                });
                
                $("#shadowWater").click(function() {
                    $("td").addClass("gridview");
                    $(this).animate({
                        left:"-100px",bottom:"50px"
                    }); 
                    selectionMode = "water";
                    $("article>table").addClass("cLT");
                    $(".doneBtn").animate({
                        left:"20px",bottom:"30px"
                    }); 
                });

                $("#inventory").click(function() {
                    if(!inventoryOpened) {
                        $("body").append("<div class='inventory'></div>");
                        $(".inventory").fadeOut();
                    }
                    
                    inventoryOpened = true;
                    $(".inventory").slideToggle(500);
                    $(".inventory").html(" <button class='close' onclick='javascript:void($(this).parent().slideToggle(400))'>X</button>  <h1>Inventory</h1>");
                    for(j = 0; j < Object.keys(inventory).length; j++) {
                      $(".inventory").append(inventory[j][0]+": "+inventory[j][2]+"<button onclick='sell(this.id.substring(4))' id='sell"+inventory[j][0]+"'>Sell</button><br>");
                    }
                });
                
                $("#shop").click(function(){
                    openShop();
                });
                
                $(".doneBtn").click(function(){
                    selectionMode = "none";
                    $("#shadowWater").animate({
                        left:"50px",bottom:"50px"
                    }); 
                    $("td").removeClass("gridview").addClass("normalview"); 
                    $(".doneBtn").animate({
                        left:"-200px"
                    });
                });
                
                $("#menu").click(function(){
                    $("ul").toggle().animate({
                        left:"-40px"
                    });
                });
                
                $("#close").click(function(){
                    $("ul").animate({
                        left:"-400px"
                    },400);
                    $("ul").toggle(400);
                });
            });
            
            var justSomeRandomWords = ["hello","guys","here","are", "some", "random", "letters", "h", "p", "e", "j", "l", "q", "k", "and", "some", "random", "words", "just", "to", "make", "this", "document", "more", "funny", "and", "not", "like", "a", "boring", "frame", "goodbye"]; // How to be an asshole to anyone who may read this code starter kit

            function farm(event, element = null) {
                try {
                    if ($("#"+event.target.id).html() == "" && selectionMode.substring(0,1) != "none" && wallet - crops[dict[selectionMode]].price >= 0 && needWater.indexOf(event.target.id) == -1) {
                        grow(event.target.id,crops[parseInt(dict[selectionMode])]);
                        wallet -= crops[dict[selectionMode]].price;
                        $("#wallet").html("Wallet: 💵" + wallet + ",");
                    } else if($("#" + event.target.id).html() != "🌱🌱🌱🌱🌱🌱" && $("#"+event.target.id).html() != "") {
                        inventory[crops[dict[$("#" + event.target.id).html().substring(4,6)]].id][2] += parseInt(crops[dict[$("#" + event.target.id).html().substring(4,6)]].cropNum);
                        $("#"+event.target.id).html("");
                        $("#" + event.target.id).css("background-color", "grey");
                        needWater.push(element.id);
                    } else if($("#"+event.target.id).html() == "" && selectionMode.substring(0,1) != "none" && wallet - crops[dict[selectionMode]].price <= 0 && needWater.indexOf(event.target.id) == -1) {
                        showErrorMsg("You don't have enough cash to buy " + crops[dict[selectionMode]].n + "!", createErrorMsg());
                    } else if($("#"+event.target.id).html() == "" && selectionMode.substring(0,1) != "none" && wallet - crops[dict[selectionMode]].price >= 0 && needWater.indexOf(event.target.id) != -1) {
                        showErrorMsg("You need to water this plot before being able to plant on it!", createErrorMsg());
                    }
                } catch (e) {
                    $("#"+event.target.id).html("");
                }
            }
            function grow(field,plant) {
                $("#" + event.target.id).html("🌱🌱🌱🌱🌱🌱");
                setTimeout(function(){
                    $("#" + field).html(plant.fig + plant.fig + plant.fig + plant.fig + plant.fig + plant.fig);
                }, plant.growTime);
            }
            
            function sell(product, all = false)  {
                if(inventory[crops[dict[product]].id][2]>0){
                    if(!all) {
                        wallet += crops[dict[product]].sellPrice;
                        inventory[crops[dict[product]].id][2] -= 10;
                    } else {
                        wallet += crops[dict[product]].sellPrice * (inventory[crops[dict[product]].id][2] / 10);
                        inventory[crops[dict[product]].id][2] = 0;
                    }
                    $(".inventory").html("<button class='close' onclick='javascript:void($(this).parent().slideToggle(400))'>X</button>  <h1>Inventory</h1>");
                    
                    for(a = 0; a < Object.keys(inventory).length; a++) {
                        $(".inventory").append(inventory[a][0]+": "+inventory[a][2]+"<button onclick='sell(this.id.substring(4))' id='sell"+inventory[a][0]+"'>Sell</button><button onclick='sell(this.id.substring(4),true)' id='sell"+inventory[a][0]+"'>Sell</button><br><br>");
                    }
                    
                    $("#wallet").html("Wallet: 💵" + wallet + ",");
                }
            }
            
            function openShop()  {
                if (!shopOpened) {
                   $("body").append("<div class='shop'></div>");
                   $(".shop").fadeOut();
                }
                
                shopOpened = true;
                $(".shop").slideToggle(500).html(" <button class='close' onclick='javascript:void($(this).parent().slideToggle(400))'>X</button> <h1>Shop</h1><button id='Crops' class='tab' onclick='javascript:void(openCrops ())'>Crops</button><button id='decor' class='tab' onclick='javascript:void(openDecor())'>Decorations</button><br><div id='list'></div>");
                openCrops();
            }
            
            function buyCrops(item) {
                $(".shop").slideToggle(500);
                $("#shadowWater").animate({
                        left:"-100px",bottom:"50px"
                }); 
                $(".doneBtn").animate({
                    left:"20px",bottom:"30px"
                });
                selectionMode = item;
            }
            
            function openMenu(elem) {
                $(elem).toggle(400);
            }
            
            function openDecor()  {
                $("#list").html("");
                for(var i in decorations) {
                    if(decorations[i].fig == "⛽") {
                        $("#list").append("<span class='waterPlantSpan'>⛽: <button onclick='javascript:void(selectDecors())' id='" + decorations[i].fig + "' class='waterPlantButton'>Select</button> Price: 🌊20, 💵550 <img src='https://image.flaticon.com/icons/svg/189/189665.svg' width='17' height='17' onmouseover='toggleWaterPlantInfo(this)' onmouseout='toggleWaterPlantInfo(this)'></span>");
                    } else {
                        $("#list").append(decorations[i].fig + ":<button onclick='javascript:void(selectDecors())' id='" + decorations[i].fig + "' >Select</button> Price: 💵" + decorations[i].price + "<br>");
                    }
                }
            } 
            
            function openCrops() {
                $("#list").html("");
                for(s = 0; s < Object.keys(crops).length; s++) {
                    $("#list").append(crops[s].fig + ": <button  id='c" + crops[s].fig + "'onclick='buyCrops(this.id.substring(1))'>Select</button> Price: 💵" + crops[s].price + "<br>");     
                }    
            }
            
            function selectDecors() {
                $(".shop").slideToggle();
                selectionMode = "decors" + event.target.id;    
                $("td").addClass("gridview");
                $(".doneBtn").animate({
                    left:"20px",bottom:"30px"
                });
                $("#shadowWater").animate({
                        left:"-100px",bottom:"50px"
                }); 
            }
            
            function createErrorMsg() {
                var elem = document.createElement("div");
                elem.className = "errorMsg";
                document.body.appendChild(elem);
                return elem;
            }

            function showErrorMsg(msg, element) {
                $(element).animate({
                    bottom:"50%"
                });
                $(element).html(msg);
                var opacity = 1;
                var time = 200;
                var interval = setInterval((elem) => {
                    opacity -= opacity <= 0.6 ? 0.1 : 0.01;
                    if (opacity <= 0.8) {
                        time = 1;
                    }
                    if (opacity <= 0) {
                        clearInterval(interval);
                        $(element).remove();
                    }
                    $(element).css("opacity", opacity);
                }, time);
            }

            function openWaterGame(elem, after = false) {
                if(!after) {
                    $(elem).parent().parent().toggle(400);
                    openMenu('#watergame');
                }
                makeWords();
            }

            function waterGameDone(time) {
                if(time <= 20) {
                    water += parseInt(toDivideByTime/time);
                    $("#water").html("Water: 🌊" + water);
                    document.getElementById("watergame").innerHTML = '<button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button><h1>You did it in ' + time + ' Seconds! Well Done!</h1><br>You got ' + parseInt(toDivideByTime/time) + ' water!<br><button onclick="openWaterGame(this, true)">Click here to play!</button>';
                } else {
                    document.getElementById("watergame").innerHTML = '<button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button><h1>You need to go faster! I believe in you!</h1><br><button onclick="openWaterGame(this, true)">Click here to play!</button>';
                }
            }

            function toggleWaterPlantInfo(e) {
                if(!document.getElementById("waterPlantInfo")) {
                    $(e).parent().append('<span id="waterPlantInfo"><br>This decoration will inscrease the amount of water you get from water game!</span>');
                } else {
                    $("#waterPlantInfo")[0].remove();
                }
            }

            function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var ca = decodedCookie.split(';');
                for(var i = 0; i <ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }

            function saveCookies() {
                document.cookie = ("wallet=" + wallet);
                document.cookie = ("water=" + water);
                document.cookie = ("plotPrice=" + plotPrice);
                document.cookie = ("fields=" + fields);
            }
            
            var cookiesInterv = setInterval(function () {
                if(allowCookies) {
                    saveCookies();
                }
            }, 10000);

            function deleteAllCookies() {
                clearInterval(cookiesInterv);

                var cookies = document.cookie.split(";");
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i];
                    var eqPos = cookie.indexOf("=");
                    var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
                    document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
                }
            }
            
            var unit1 = {
                'coat': 'מעיל',
                'cover (n)': 'מכסה',
                'dangerous': 'מסוכן',
                'degree': 'מעלה',
                'destroy': 'להרוס',
                'fall (n)': 'סתיו',
                'fall (v)': 'ליפול',
                'free (adj)': 'חופשי',
                'get on': 'לעלות',
                'go fishing': 'ללכת לדוג',
                'ground (n)': 'אדמה',
                'heat (n)': 'חום',
                'kind of': 'סוג של',
                'luckily': 'למרבה המזל',
                'make plans': 'לתכנן תוכניות',
                'outside': 'בחוץ',
                'park (n)': 'פארק',
                'pleasant': 'נעים',
                'put on': 'ללבוש',
                'rain (n)': 'גשם',
                'rain (v)': 'גשום',
                'scarf': 'צעיף',
                'sea': 'ים',
                'shine': 'לזרוח',
                'snow (n)': 'שלג',
                'stay': 'להישאר',
                'surprised': 'מופתע',
                'temperature': 'טמפרטורה',
                'turn on': 'להדליק',
                'wake up': 'להתעורר',
                'warm (adj)': 'חמים',
                'wave (n)': 'גל',
                'weather': 'מזג אוויר',
                'wind (n)': 'רוח',
                'certainly': 'בהחלט',
                'check (v)': 'לבדוק',
                'close (adj)': 'קרוב',
                'cloud': 'ענן',
                'curly': 'מתולתל',
                'east': 'מזרח',
                'farmer': 'חקלאי',
                'field': 'שדה',
                'finger': 'אצבע',
                'hope': 'תקווה',
                'lie down': 'לשכב',
                'low': 'נמוך',
                'mean (v)': 'להתכוון',
                'predict': 'לחזות',
                'sailor': 'מלח',
                'west': 'מערב',
                'wet': 'רטוב',
                'worried': 'מודאג',
                'can\'t wait': 'לא יכול לחכות',
                'capital': 'עיר בירה',
                'city': 'עיר',
                'divide': 'לחלק',
                'earth': 'כדור הארץ',
                'famous': 'מפורסם',
                'for example': 'לדוגמא',
                'hang out': 'לבלות',
                'ice': 'קרח',
                'indoors': 'בתוך הבית',
                'it depends on': 'תלוי ב',
                'mountain': 'הר',
                'north': 'צפון',
                'opposite': 'ההפך',
                'outdoors': 'מחוץ לבית',
                'probably': 'כנראה',
                'rise': 'לעלות',
                'river': 'נהר',
                'season': 'עונה',
                'set (v)': 'לערוך, לקבוע',
                'several': 'כמה',
                'south': 'דרום',
                'special': 'מיוחד',
                'spend time': 'לבלות זמן',
                'strange': 'מוזר',
                'vacation': 'חופשה',
                'arrive': 'להגיע',
                'below': 'מתחת',
                'extreme': 'מידה קיצונית, קיצוני',
                'feel like': 'מתחשק ל',
                'freezing': 'קפוא',
                'fry': 'לטגן',
                'heavy': 'כבד',
                'hold a record': 'להחזיק בשיא',
                'hole': 'חור',
                'leave': 'לעזוב',
                'melt': 'להמיס',
                'really': 'באמת',
                'roof': 'גג',
                'sidewalk': 'מדרכה',
                'storm': 'סערה',
                'swimming pool': 'בריכת שחייה',
                'the whole': 'את כל ה',
                'through': 'דרך',
                'turn off': 'לכבות',
                'zero': 'אפס',
                'advice': 'עצה',
                'back (n)': 'גב',
                'bone': 'עצם',
                'fan': 'מאוורר',
                'ice cream cone': 'גביע גלידה',
                'in the right': 'צודק',
                'problem': 'בעיה',
                'roll down': 'לגלגל',
                'shade': 'צל',
                'skin': 'עור',
                'solution': 'פתרון',
                'solve': 'לפתור',
                'sticky': 'דביק',
                'sweat (n)': 'זיעה',
                'take off (v)': 'להמריא, להוריד'
            };

            unit2 = {
                'another': 'נוסף, אחר',
                'expert': 'מומחה',
                'fall asleep': 'להרדם',
                'feather': 'נוצה',
                'fur': 'פרווה',
                'make sense': 'הגיוני',
                'mud': 'בוץ',
                'protect': 'להגן',
                'sand': 'חול',
                'scales': 'מאזניים',
                'sunburn': 'כוויית שמש',
                'sunscreen': 'קרם הגנה',
                'take care of': 'לטפל ב',
                'throw': 'לזרוק',
                'wool': 'צמר',
                "you're welcome": 'על לא דבר',
                'activity': 'פעילות',
                'adventure': 'הרפתקה',
                'art': 'אומנות',
                'athlete': 'אתלט | ספורטאי',
                'change[n]': 'שינוי',
                'company': 'חברה | עסק',
                'competition': 'תחרות',
                'creative': 'יצירתי',
                'date of birth': 'תאריך לידה',
                'excellent': 'מצוין, מעולה',
                'free': 'חופשׁי, חינם',
                'get hurt': 'להיפּצע, להיפּגע',
                'in charge of': 'אחראי על, מומנה',
                'look for': 'לחפּשׂ',
                'pay attention': 'לשׂים לב',
                'show[v]': 'להראות',
                'sign[n]': 'שׁלט, סימן',
                'sit still': 'לשׁבת בּשׁקט',
                'start up': 'סטארט אפּ',
                'tidy': 'מסודר',
                'tour guide': 'מדריך טיולים',
                'travel[n, v]': 'נסיעה,לנסוע',
                'aim (n)': 'מטרה',
                'beginning': 'התחלה',
                'celebrate': 'לחגוג',
                'choose': 'לבחור',
                'countryside': 'אזור כפרי',
                'download': 'להוריד',
                'event': 'אירוע',
                'exciting': 'מרגש',
                'excuse (n)': 'תרוץ',
                'expensive': 'יקר',
                'follow': 'לעקוב',
                'imagine': 'לדמיין',
                'in addition to': 'בנוסף ל...',
                'in order to': 'כדי ל',
                'left out': 'נשאר בחוץ',
                'main': 'עיקרי, ראשי',
                'perfect': 'מושלם',
                'pour': 'לשפוך, למזוג',
                'route': 'דרך, נתיב',
                'seem': 'נראה',
                'success': 'הצלחה',
                'suggestion': 'הצעה',
                'surprise (v)': 'להפתיע',
                'take part in': 'להשתתף ב',
                'team': 'קבוצה',
                'tradition': 'מסורת',
                'visit (v)': 'לבקר',
                'visitor': 'מבקר',
                'be used to': 'להיות רגיל ל',
                'because of': 'בגלל',
                'both... and': 'גם וגם',
                'concentrate': 'להתרכז',
                'darkness': 'חושך',
                'during': 'במשך',
                'get around': 'להסתובב',
                'get up': 'לקום',
                'go for a hike': 'לצאת לטיול רגלי',
                'lake': 'אגם',
                'midnight': 'חצות',
                'rent': 'לשׁכור',
                'skate': 'להחליק',
                'sunlight': 'אור שמש',
                'tour': 'סיור',
                'tourtist': 'תייר',
                'turn into': 'להפוך ל',
                'unusual': 'בלתי רגיל, חריג',
                'whatever': 'מה שלא',
                'worry about': 'לדאוג לגבי',
                'carefully': 'בזהירות',
                'collect': 'לאסוף',
                'create': 'ליצור',
                'dead': 'מת',
                'drown': 'לטבוע',
                'escape': 'לברוח',
                'evil': 'רשע',
                'feel sorry for': 'לרחם על',
                'god': 'אלוהים',
                'guard (v)': 'לשמור',
                'inventor': 'ממציא',
                'island': 'אי',
                'pleased': 'מרוצה',
                'prison': 'כלא',
                'sculptor': 'פסל',
                'string': 'חוט',
                'tie': 'לקשור',
                'towards': 'לקראת, לעבר',
                'warn': 'להזהיר',
                'wax': 'שעווה',
                'wing': 'כנף'
            };
            eval("function " + justSomeRandomWords[10] + "() { " + justSomeRandomWords[22] + ".getElementById('leaderboard-i" + justSomeRandomWords[30] + "').contentWindow.name(wallet, farmName, water); document.getElementById('leaderboardButton').innerHTML = '';}");
            unit3 = {
                'a bit': 'קצת',
                'a couple of': 'זוג, מספר, כמה',
                'alive': 'חי, בחיים',
                'ancient': 'עתיק',
                'area': 'אזור',
                'as a result': 'כתוצאה מכך',
                'at last': 'לבסוף',
                'bat': 'עטלף',
                'be able to': 'להיות מסוגל',
                'be used to': 'להתרגל',
                'beans': 'שעועית',
                'blanket': 'שמיכה',
                'blow/blew': 'לנשוף/נשף, לפוצץ/פיצץ, מכה',
                'break': 'הפסקה',
                'breeze': 'משב רוח קלה',
                'brightly': 'בבהירות',
                'bucket': 'דלי',
                'building': 'בניין',
                'cave': 'מערה',
                'century': 'מאה',
                'circle': 'עיגול',
                'clothes': 'בגדים',
                'cloudy': 'מעונן',
                'complete': 'להשלים',
                'completely': 'לחלוטין',
                'confused': 'מבולבל',
                'continue': 'להמשיך',
                'cough': 'להשתעל',
                'cover': 'לכסות',
                'culture': 'תרבות',
                'damage': 'נזק, להזיק, לגרום נזק',
                'deep': 'עמוק',
                'destroy': 'להרוס',
                'difficulty': 'קושי',
                'double': 'פי שתים',
                'driver': 'נהג',
                'drop': 'להפיל',
                'drown': 'לטבוע, להטביע',
                'during': 'במשך',
                'edge': 'קצה',
                'escape': 'לברוח',
                'even though': 'למרות ש',
                'ever since': 'מאז',
                'everything': 'הכל',
                'expensive': 'יקר',
                'explain': 'להסביר',
                'farmer': 'חקלאי',
                'feed': 'להאכיל',
                'field': 'שדה',
                'fill': 'למלא',
                'firefighter': 'כבאי',
                'flood': 'שיטפון, הצפה, להציף, לעלות על גדותיו',
                'floor': 'רצפה, קומה',
                'fountain': 'מזרקה',
                'fresh': 'טרי',
                'fruits': 'פירות',
                'gather': 'לאסוף',
                'grow': 'לגדול',
                'heart': 'לב',
                'heaven': 'גן עדן',
                'heavy': 'כבד',
                'hold': 'להחזיק',
                'honestly': 'בכנות',
                'horror': 'אימה',
                'imagine': 'לדמיין',
                'in danger': 'בסכנה',
                'in fact': 'בעצם',
                'in particular': 'במיוחד',
                'interesting': 'מעניין',
                'interview': 'ראיון, לראיין',
                'ladder': 'סולם',
                'land': 'אדמה',
                'later': 'מאוחר יותר',
                'laundry': 'כביסה',
                'let': 'להרשות',
                'lift': 'להרים',
                'lightning': 'ברק',
                'look after': 'להשגיח',
                'look like': 'נראה כמו',
                'lucky': 'בר מזל',
                'manage to': 'להצליח',
                'mud': 'בוץ',
                'my pleasure': 'התענוג שלי',
                'nature': 'טבע',
                'nearly': 'כמעט',
                'necessary': 'נחוץ',
                'no matter': 'לא משנה',
                'not even': 'לא שווה',
                'notice': 'להבחין',
                'of course': 'כמובן',
                'office': 'משׂרד',
                'order': 'סדר',
                'party': 'מסיבה',
                'pass': 'לעבור',
                'patiently': 'בסבלנות',
                'peace': 'שלום',
                'perfect': 'מושלם',
                'perhaps': 'אולי',
                'pick': 'לקטוף',
                'plant': 'לשתול',
                'plenty': 'הרבה',
                'prefer': 'להעדיף',
                'program': 'תוכנית',
                'protect': 'להגן',
                'rainbow': 'קשת בענן',
                'realize': 'להבין',
                'relax': 'להירגע',
                'rescue': 'להציל',
                'rice': 'אורז',
                'rise/ rose': 'לזרוח',
                'roof': 'גג',
                'save': 'להציל / לשמור',
                'scare': 'להפחיד',
                'scared': 'מפחד',
                'search': 'לחפש',
                'secretly': 'בסוד',
                'seem': 'נראה',
                'shoulder': 'כתף',
                'sneeze': 'להתעטש',
                'softly': 'ברכות',
                'sound': 'להישמע',
                'stare': 'לנעוץ מבט',
                'storm': 'סערה',
                'strange': 'מוזר, משונה',
                'suddenly': 'פתאום',
                'suffer': 'לסבול',
                'surprising': 'מפתיע',
                'symbol': 'סמל',
                'terrible': 'נורא',
                'the whole': 'את כל ה',
                'therefore': 'לכן',
                'thick': 'עבה',
                'thirsty': 'צמא',
                'thousand': 'אלף',
                'thunder': 'רעם',
                'tiny': 'זעיר',
                'top': 'פסגה',
                'touch': 'לגעת',
                'true': 'אמת',
                'umbrella': 'מטרייה',
                'unhappy': 'עצוב',
                'unusual': 'לא רגיל',
                'usually': 'בדרך כלל',
                'village': 'כפר',
                'wait for': 'לחכות ל',
                'water': 'להשקות',
                'waterfall': 'מפל',
                'weigh': 'לשקול',
                'welcome': 'ברוך הבא',
                'well': 'טוב, באר, ובכן',
                'wide': 'רחב',
                'wild': 'פרא'
            };

            unit4 = { 
                'accident': 'תאונה',
				'according to': 'לפי',
				'act': 'לשחק',
				'adult': 'מבוגר',
				'advanced': 'מתקדם',
				'afford': 'להרשות לעצמו',
				'all along': 'לאורך כל הדרך',
				'although': 'למרות',
				'attention': 'תשומת לב',
				'avoid': 'להימנע',
				'basement': 'מרתף',
				'be over': 'יגמר / יסתיים',
				'beginner': 'מתחיל',
				'body': 'גוף',
				'bring back': 'להחזיר',
				'bronze': 'ברונזה',
				'cancel': 'לבטל',
				'canned food': 'מזון משומר',
				'chick': 'גוזל',
				'claw': 'טפרים',
				'clear': 'ברור',
				'climate': 'אקלים',
				'coast': 'חוף',
				'complain': 'להתלונן',
				'cub': 'גור',
				'cute': 'חמוד',
				'danger': 'סכנה',
				'definetly': 'בהחלט',
				'each other': 'אחד את השני',
				'electricity': 'חשמל',
				'empty': 'ריק',
				'except': 'חוץ מ',
				'expect': 'לצפות',
				'extremely': 'מאוד',
				'face': 'להתמודד',
				'female': 'נקבה',
				'figure skating': 'החלקה אומנותית על הקרח',
				'for sure': 'לבטח/בטוח',
				'get started': 'להתחיל',
				'gold': 'זהב',
				'grown up': 'מבוגר',
				'guess': 'לנחש',
				'hang/hung': 'לתלות',
				'hardly': 'בקושי',
				'history': 'היסטוריה',
				'hit': 'להכות',
				'hold': 'להחזיק',
				'holiday': 'חג',
				'horrible': 'איום ונורא',
				'hug': 'לחבק',
				'huge': 'ענק',
				'hunt': 'לצוד',
				"I've ever seen": 'שאי פעם ראיתי',
				'ice hockey': 'הוקי קרח',
				'ice skating': 'החלקה על הקרח',
				'ignore': 'להתעלם',
				'improve': 'לשפר',
				'in the meantime': 'בינתיים',
				'information': 'מידע, אינפורמציה',
				'instructor': 'מדריך',
				'international': 'בין לאומי',
				'keep warm': 'להתחמם',
				'layer': 'שכבה',
				'major': 'עיקרי',
				'male': 'זכר',
				'medal': 'מדליה',
				'might': 'עלול',
				'on time': 'בזמן',
				'opening hours': 'שעות פתיחה',
				'out ot the question': 'לא בא בחשבון',
				'parent': 'הורה',
				'participate': 'להשתתף',
				'paw': 'טפר',
				'penguin': 'פנגווין',
				'performance': 'הופעה',
				'playground': 'מגרש משחקים',
				'polar bear': 'דוב הקוטב{ הלבן}',
				'power cut': 'הפסקת חשמל',
				'powerful': 'רב עוצמה, חזק',
				'prepared': 'מוכן ל',
				'price': 'מחיר',
				'right away': 'מיד',
				'seal': 'כלב ים',
				'shake': 'לנער',
				'shape': 'צורה',
				'silver': 'כסף',
				'similar': 'דומה',
				'ski jumping': 'קפיצת סקי',
				'ski resort': 'אתר סקי',
				'skiing': 'סקי',
				'sleepy': 'ישנוני',
				'smart': 'חכם',
				'smell': 'ריח',
				'snowboarding': 'סנובורדינג',
				'so far': 'עד עכשיו',
				'so little': 'מעט מאד',
				'speed skating': 'מירוץ סקי',
				'step': 'צעד',
				'stray': 'תועה, מקרי',
				'successful': 'מצליח',
				'survive': 'לשרוד',
				'tail': 'זנב',
				'take off': 'להמריא',
				'tear up': 'לקרוע',
				'the rest': 'השאר',
				'ticket': 'כרטיס',
				'total': 'שלם',
				'trouble': 'צרה',
				'turn around': 'להסתובב',
				'unless': 'אלא אם כן',
				'voice': 'קול',
				'weekend': 'סוף שבוע',
				'whisper': 'ללחוש',
				'win/won': 'לנצח',
				'wonder': 'לתהות',
				"you'd better": 'עדיף ש....'
			};

            unit5 = { 
                'add': 'להוסיף',
				'air': 'אוויר',
				'amount': 'כמות',
				'awake': 'ער',
				'break': 'לשבור',
				'bridge': 'גשר',
				'candlelight': 'אור נרות',
				'cause': 'גורם',
				'chase': 'לרדוף, לצוד',
				'come true': 'להתגשם',
				'common': 'נפוץ, שכיח',
				'corn': 'תירס',
				'desert': 'מדבר',
				'design': 'עיצוב, תוכנית',
				'destruction': 'הרס',
				'develop': 'לפתח',
				'disappear': 'להיעלם',
				'discover': 'לגלות',
				'dozen': 'תריסר, שניים עשר, עשרות',
				'dream': 'חלום',
				'dress': 'שמלה',
				'energy': 'אנרגיה',
				'engineer': 'מהנדס',
				'environment': 'סביבה',
				'equipment': 'ציוד',
				'excitment': 'התרגשות',
				'feeling': 'הרגשה',
				'finally': 'לבסוף',
				'flight': 'טיסה, בריחה, מנוסה',
				'float': 'לצוף',
				'flour': 'קמח',
				'flute': 'חליל',
				'folk': 'עם, עממי',
				'force': 'כוח',
				'forecast': 'תחזית',
				'friendly': 'חברותי',
				'gallop': 'לדהור',
				'height': 'גובה',
				'hold up': 'שוד',
				"I don't mind": 'לא אכפת לי',
				'indeed': 'אכן',
				'injure': 'לפצוע',
				'instrument': 'מכשיר / כלי',
				'introduce': 'להציג בפני',
				'join together': 'לאחד',
				'land': 'אדמה',
				'landing': 'נחיתה',
				'length': 'אורך',
				'Long after': 'הרבה אחרי',
				'measure': 'למדוד',
				'miss': 'להתגעגע',
				'movement': 'תנועה',
				'musical': 'מוסיקלי',
				'native': 'יליד, מקומי',
				'occur': 'להתרחש',
				'passenger': 'נוסע',
				'past': 'עבר',
				'photograph': 'תצלום',
				'photography': 'צילום',
				'pick up': 'להרים, לאסוף',
				'pilot': 'טייס',
				'pipe': 'צינור, מקטרת',
				'power': 'כוח',
				'present': 'מתנה',
				'produce': 'לייצר',
				'promise': 'להבטיח',
				'provide': 'לספק',
				'quite': 'למדי',
				'reach': 'להגיע',
				'reporter': 'כתב, עיתונאי',
				'ride': 'נסיעה / לרכב',
				'safe': 'בטוח',
				'sail': 'להפליג',
				'scenery': 'נוף, תפאורה',
				'shorts': 'מכנסיים קצרים',
				'simple': 'פשוט',
				'sort of': 'בְּעֵרֶךְ, במידת מה',
				'sound': 'להישמע',
				'speed': 'מהירות',
				'squeeze': 'לסחוט, לדחוק',
				'stone': 'אבן',
				'street': 'רחוב',
				'strength': 'כוח',
				'summertime': 'תקופת הקיץ',
				'swim suit': 'בגד ים',
				'technology': 'טכנולוגיה',
				'thanks to': 'הודות ל',
				'the other way': 'הדרך השניה',
				'thrilling': 'מרתק, מותח',
				'tornado': 'טורנדו',
				'traditional': 'מסורתי',
				'violent': 'אלים',
				'wheel': 'גלגל',
				'whenever': 'עת',
				'windmeal': 'תחנת רוח'
			};

            function getRandomUnit() {
                let a = Math.floor(Math.random() * (5 - 1 + 1) ) + 1;
                switch(a) {
                    case 1:
                        return unit1;
                    case 2:
                        return unit2;
                    case 3:
                        return unit3;
                    case 4:
                        return unit4;
                    case 5:
                        return unit4;
                }
            }

            function getRandomKey(unit) {
                let keys = Object.keys(unit);
                return keys[Math.floor(Math.random() * keys.length)];
            }

            function shuffle(array) {
                var currentIndex = array.length, temporaryValue, randomIndex;

                while (currentIndex !== 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }

                return array;
            }

            function makeWords() {
                window.chosen = [];
                var time = 0;
                var game = document.getElementById("watergame");
                game.innerHTML = "";
                var unit = getRandomUnit();
                var usedKeys = [];
                var words = [];
                var key;
                var elem;
                for(let i = 0; i < 7; i++) {
                    key = getRandomKey(unit);
                    while(usedKeys.indexOf(key) != -1 || key == undefined) {
                        key = getRandomKey(unit);
                    }
                    var elem = document.createElement("span");
                    elem.id = key + "-en";
                    elem.setAttribute("class", "game-span");
                    elem.addEventListener("click", function () {
                        if(time == 0) {
                            time = new Date().getTime();
                        }
                        key = this.innerHTML;
                        if(chosen.length == 0) {
                            chosen.push(this.innerHTML);
                            this.style.backgroundColor = "lightblue";
                        } else if(chosen.length == 1) {
                            // Here is a funny comment, just because I can.
                            if(unit[key] == chosen[0]) {
                                $(this).remove();
                                document.getElementById(chosen[0] + "-ew").remove();
                                words.splice(words.indexOf(this.innerHTML), 1);
                                words.splice(words.indexOf(chosen[0], 1));
                            } else {
                                time -= 2000;
                                var letters = "abcdefghijklmnopqrstuvwxyz";
                                var eng = false;
                                for(let i = 0; i < letters.length; i++) {
                                    if(chosen[0].indexOf(letters[i]) != -1) {
                                        eng = true;
                                    }
                                }
                                if(eng) {
                                    document.getElementById(chosen[0] + "-en").style.backgroundColor = "darkgreen";
                                } else {
                                    document.getElementById(chosen[0] + "-ew").style.backgroundColor = "darkgreen";
                                }
                                this.style.backgroundColor = "darkgreen";
                            }
                            chosen = [];
                        }
                        if(words.length == 0) {
                            document.getElementById("watergame").innerHTML = 'You did it in ' + ((new Date().getTime()) - time)/1000 + ' Seconds.<br><button onclick="openWaterGame(this, true)">Click here to play!</button>';
                            waterGameDone(((new Date().getTime()) - time)/1000);
                        }
                    });
                    elem.innerHTML = key;
                    words.push(elem);
                    usedKeys.push(key);
                }

                var times = words.length;
                for(let i = 0; i < times; i++) {
                    key = unit[words[i].innerHTML];
                    var elem = document.createElement("span");
                    elem.id = key + "-ew";
                    elem.setAttribute("class", "game-span");
                    elem.addEventListener("click", function () {
                        key = this.innerHTML;
                        if(chosen.length == 0) {
                            chosen.push(this.innerHTML);
                            this.style.backgroundColor = "lightblue";
                        } else if(chosen.length == 1) {
                            if(unit[chosen[0]] == key) {
                                $(this).remove();
                                document.getElementById(chosen[0] + "-en").remove();
                                words.splice(words.indexOf(this.innerHTML), 1);
                                words.splice(words.indexOf(chosen[0], 1));
                            } else {
                                time -= 2000;
                                var letters = "abcdefghijklmnopqrstuvwxyz";
                                var eng = false;
                                for(let i = 0; i < letters.length; i++) {
                                    if(chosen[0].indexOf(letters[i]) != -1) {
                                        eng = true;
                                    }
                                }
                                if(eng) {
                                    document.getElementById(chosen[0] + "-en").style.backgroundColor = "darkgreen";
                                } else {
                                    document.getElementById(chosen[0] + "-ew").style.backgroundColor = "darkgreen";
                                }
                                                                
                                this.style.backgroundColor = "darkgreen";
                            }
                            chosen = [];
                        }
                        if(words.length == 0) {
                            waterGameDone(((new Date().getTime()) - time)/1000);
                        }
                    });
                    elem.innerHTML = key;
                    words.push(elem);
                    usedKeys.push(key);
                }

                words = shuffle(words);

                for(var i = 0; i < words.length; i++) {
                    game.append(words[i]);
                }
            }

        </script>
    </head>
    <body>
        
        <header>
            <input type="text" placeholder="My farm (Click to edit name)" oonkeyup="farmName = this.value">  
            <br>
            <button id="menu">🏠</button>
            <span id="wallet">Wallet: 💵100,</span>
            <span id="water">Water: 🌊0</span>
            <button id="inventory">🏢Inventory</button>
            <button id="shop">🎪Shop</button>
            <button onclick="openMenu('#watermenu')">Get 🌊Water</button>
            <span id="plotPrice">Plot price: 10</span>
        </header>
        
        <br><br>
        
        <table id="gamearea" class="fields">
               
        </table>
       
        <ul class="menuitem">
        <button id="close" class="close">X</button><br><br>
            <li id="help" onclick="openMenu('#helpmenu')">Help</li>
            <li id="croplist" onclick="openMenu('#cropmenu')">Crops</li>
            <li id="waterinfo" onclick="openMenu('#watermenu')">Get Water</li>
            <li id="leaderboardinfo" onclick="openMenu('#leaderboardmenu')">Leaderboard</li>
            <li id="resetinfo" onclick="openMenu('#reset')">Reset Game</li>
        </ul>
        
        <article id="helpmenu">
            <button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button>
            <h1>Help</h1>
            <p>
                Welcome to the farming game created by Peleg, Itay, Roee and Tom!
                <br>
                The objective is simple. You have to grow and sell crops to be rich, than any of others!
            </p>
            <p>
                First, select the Plot button in the bottom-right corner to plot some fields. Then open the shop on the top to select crops. Then you can plant some crops on the plotted fields.
                Please note that the first plot costs 10 cash, and then the price inscreases by your current amount of cash divided by 7.
            </p>
            <p>
                After some time your plants will be ready, then you can gather them by clicking on them. If you want to sell those crops open inventory and sell them on your desire.
            </p>
            <p>
                Once you have collected crops from a plot, it will turn grey, which means you need to water it. In order to water it, you need to click the "water" button at bottom left, then click on your grey plot.
            </p>
            <p>
                Good luck!
            </p>
        </article>

        <article id="watermenu">
            <button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button>
            <h1>Water</h1>
            <p>
                If your plot got grey, then you need to water it.
                To water your plot you need water.
                If you want to get more, you need to play a game where you have to match a word in English with it's Hebrew translation.
                To get water, you need to complete the game in less than 20 seconds.
                After you successfuly complete the game, you will get water in accordance with your time - the faster you go, the more water you get.
                <br>
                <button onclick="openWaterGame(this)">Click here to play!</button>
            </p>
        </article>
       
        <article id="cropmenu">
            <button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button>
        <h1>Crops</h1>


        </article>
       
        <article id="watergame">
            
        </article>

        <article id="leaderboardmenu">
            <button class="close" onclick="javascript:void($(this).parent().toggle(400))">X</button>
            <h1>Leaderboard</h1>
            <p>
                To visit the leaderboard, <a href="https://peleghtml.000webhostapp.com/myhtml/farm-leaderboard.php" target="_blank">click here</a>.
            </p>
            <p id="leaderboardButton">
                <br>
                To save your progress into the leaderboard, click <button onclick="j()">here</button>. <b><h2>YOU CAN ONLY SAVE ONCE!</h2></b>
            </p>
        </article>

        <article id="reset">
            <h1>Reset the Game</h1>
            <p>
                If you want to reset the game, click <button onclick="deleteAllCookies(); location.reload()">here</button>.
                Note that resetting the game will make you loose all you did in it.
            </p>
        </article>

        <iframe id="leaderboard-iframe" src="https://peleghtml.000webhostapp.com/myhtml/iframe-farm.php" style="visibility: hidden;"></iframe>
        <div id="shadow"><button id="plot">PLOT</button></div>
        <button class="doneBtn"></button>
        <div id="shadowWater"><button id="waterBtn">WATER</button></div>
        <div class="cookieMsg">We use cookies to improve your experience.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="cookieMsgBtn" onclick="$(this).parent().remove(); allowCookies = true;">allow cookies</button></div>
    </body>
</html>